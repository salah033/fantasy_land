<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <title>{% block title %}Fantasy Land | {{ request.resolver_match.url_name }}{% endblock %}</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="{% static 'css/left_panel.css' %}">
    <link rel="icon" type="image/x-icon" href="{% static 'images/LOGO_no_BG.ico' %}">
</head>
<body>
<div class="fl-container">
  <!-- Sidebar -->
  <div id="fl-sidebar" class="fl-sidebar">
    <button id="fl-toggle-btn" class="fl-toggle-btn">‚ò∞</button>
    <ul class="fl-sidebar-nav">
      <li><a href="{% url 'PRODUCTS' %}">Products</a></li>
      <li><a href="{% url 'SUPPLIERS' %}">Suppliers</a></li>
      <li><a href="{% url 'SHOP' %}">Shop</a></li>
      <li><a href="{% url 'MAKE_SALE' %}">Sales</a></li>
    </ul>
  </div>

  <div class="fl-page-content">
    <!-- Header -->
    <header class="fl-header">
      <div class="container">
        <!-- Left Logo -->
        <div class="logo">
          <a href="{% url 'HOME' %}">
            <img src="{% static 'images/logo.png' %}" alt="Logo">
          </a>
        </div>

        <!-- Search + Right Nav -->
        <div class="search-area">
          <!-- Product/Supplier Search -->
          <form class="search-form" action="{% url 'SEARCH' %}" method="get">
            <p>Search in:</p>
            <select name="type" class="search-select">
              <option value="products" selected>Products</option>
              <option value="suppliers">Suppliers</option>
            </select>
            <input type="text" name="q" placeholder="Search..." required>
            <button type="submit">üîç</button>
          </form>

          <!-- Category Search -->
          <form class="search-form" action="{% url 'CAT_DETAILS' %}" method="get">
            <p>Search by Categories</p>
            <select name="category" class="search-select">
              {% for category in categories %}
                <option value="{{ category.id }}">{{ category.name }}</option>
              {% endfor %}
            </select>
            <button type="submit">üîç</button>
          </form>
        </div>

        <!-- Right Nav -->
        <nav class="right-nav">
          <ul>
            <li><a href="/admin/">Admin</a></li>
            {% if user.is_authenticated %}
              <li><a href="{% url 'USER_DASHBOARD' %}">Welcome, {{ user.username }}</a></li>
            {% else %}
              <li><a href="{% url 'ACCOUNTS_LOGIN' %}">Login</a></li>
            {% endif %}
          </ul>
        </nav>
      </div>
    </header>

    <!-- Main Content -->
    <main>
      {% block content %}
      {% endblock content %}
    </main>

    <!-- Footer -->
    <footer>
      <p>&copy; 2025 Fantasy Land. All rights reserved.</p>
    </footer>
  </div>
</div>

<!-- Sidebar Toggle Script -->
<script>
  const toggleBtn = document.getElementById('fl-toggle-btn');
  const sidebar = document.getElementById('fl-sidebar');
  toggleBtn.addEventListener('click', () => {
    sidebar.classList.toggle('fl-sidebar-hidden');
  });
</script>
</body>

</html>